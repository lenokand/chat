(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2f09b98"],{"159b":function(e,t,s){var a=s("da84"),n=s("fdbc"),r=s("17c2"),c=s("9112");for(var i in n){var o=a[i],u=o&&o.prototype;if(u&&u.forEach!==r)try{c(u,"forEach",r)}catch(l){u.forEach=r}}},"17c2":function(e,t,s){"use strict";var a=s("b727").forEach,n=s("a640"),r=n("forEach");e.exports=r?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"293a":function(e,t,s){"use strict";s.r(t);var a=s("7a23"),n=Object(a["G"])("data-v-d01432b0");Object(a["t"])("data-v-d01432b0");var r={class:"p-4 bg-light rounded shadow col-12 col-sm-8 col-md-5 col-lg-3 chat d-flex flex-column mt-3"},c={key:0,class:"fw-bolder text-black-50 mb-3"},i={id:"messagesContainer",class:"overflow-auto flex-grow-1"},o={class:"massages border rounded p-3 d-flex flex-column "},u={class:"fw-bold fst-italic"},l={class:"mb-1 mt-2"},d={class:"small text-white-50 position-absolute  massage-time"},b=Object(a["h"])("div",null,null,-1),f={class:" border-top mt-3"},m={class:"input-group my-3"},h=Object(a["h"])("button",{type:"submit",class:"btn btn-outline-secondary"},[Object(a["h"])("i",{class:"bi bi-cursor-fill"})],-1);Object(a["r"])();var p=n((function(e,t,s,n,p,v){return Object(a["q"])(),Object(a["e"])("div",r,[p.user?(Object(a["q"])(),Object(a["e"])("h5",c,Object(a["z"])(p.user?p.user.displayName:"Guest"),1)):Object(a["f"])("",!0),Object(a["h"])("div",i,[Object(a["h"])("div",o,[(Object(a["q"])(!0),Object(a["e"])(a["a"],null,Object(a["w"])(p.messages,(function(e){return Object(a["q"])(),Object(a["e"])("div",{key:e.id,class:"d-flex flex-column w-100"},[Object(a["h"])("div",{class:["massage rounded text-white p-3 shadow-sm position-relative mb-2",{"bg-primary align-self-end":e.uid==p.user.uid,"bg-secondary":e.uid!=p.user.uid}]},[Object(a["h"])("h6",u,Object(a["z"])(e.username),1),Object(a["h"])("p",l,Object(a["z"])(e.text),1),Object(a["h"])("i",d,Object(a["z"])(new Date(e.timestamp).toLocaleTimeString("ru-RU")),1)],2)])})),128)),b])]),Object(a["h"])("div",f,[Object(a["h"])("form",{onSubmit:t[2]||(t[2]=Object(a["F"])((function(){return v.sendMessage&&v.sendMessage.apply(v,arguments)}),["prevent"]))},[Object(a["h"])("div",m,[Object(a["E"])(Object(a["h"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.newMessage=e})},null,512),[[a["B"],p.newMessage]]),h])],32)])])})),v=(s("159b"),s("b64b"),s("2591")),O={name:"Chat",data:function(){return{user:null,newMessage:"",messages:[]}},created:function(){var e=this;v["a"].auth().onAuthStateChanged((function(t){t?e.user=t:(e.user=null,e.$router.push("/login"))}))},mounted:function(){var e=this,t=v["a"].database().ref("messages");t.on("value",(function(t){var s=t.val(),a=[];Object.keys(s).forEach((function(e){a.push({id:e,username:s[e].username,email:s[e].email,uid:s[e].uid,text:s[e].text,timestamp:s[e].timestamp})})),e.messages=a,setTimeout((function(){document.querySelector("#messagesContainer").scrollTo(0,500)}),500)}))},methods:{sendMessage:function(){var e={username:this.user.displayName,email:this.user.email,uid:this.user.uid,text:this.newMessage,timestamp:Date.now()};v["a"].database().ref("messages").push(e),this.newMessage=""}}};s("7a2c");O.render=p,O.__scopeId="data-v-d01432b0";t["default"]=O},"65f0":function(e,t,s){var a=s("861d"),n=s("e8b5"),r=s("b622"),c=r("species");e.exports=function(e,t){var s;return n(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?a(s)&&(s=s[c],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},"7a2c":function(e,t,s){"use strict";s("b44d")},a640:function(e,t,s){"use strict";var a=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&a((function(){s.call(null,t||function(){throw 1},1)}))}},b44d:function(e,t,s){},b64b:function(e,t,s){var a=s("23e7"),n=s("7b0b"),r=s("df75"),c=s("d039"),i=c((function(){r(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return r(n(e))}})},b727:function(e,t,s){var a=s("0366"),n=s("44ad"),r=s("7b0b"),c=s("50c4"),i=s("65f0"),o=[].push,u=function(e){var t=1==e,s=2==e,u=3==e,l=4==e,d=6==e,b=7==e,f=5==e||d;return function(m,h,p,v){for(var O,j,g=r(m),w=n(g),y=a(h,p,3),x=c(w.length),E=0,k=v||i,M=t?k(m,x):s||b?k(m,0):void 0;x>E;E++)if((f||E in w)&&(O=w[E],j=y(O,E,g),e))if(t)M[E]=j;else if(j)switch(e){case 3:return!0;case 5:return O;case 6:return E;case 2:o.call(M,O)}else switch(e){case 4:return!1;case 7:o.call(M,O)}return d?-1:u||l?l:M}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},e8b5:function(e,t,s){var a=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-c2f09b98.1225d919.js.map